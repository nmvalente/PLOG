/* -*- Mode:Prolog; coding:iso-8859-1; -*- */

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%  CONFIGURACOES INICIAIS DO JOGO  %%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

initial_board( 
        [
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___']
        ]).

playerChange(1,2).
playerChange(2,1).

startPlayer(1).

%playerTurn().

set1([piece(0, 1), piece(0, 3), piece(0, 4), piece(0, 6), piece(1, 1), piece(1, 2), piece(1, 4), piece(1, 5), piece(1, 7), piece(2, 2), piece(2, 3), piece(2, 6), piece(3, 3), piece(3, 7), piece(4, 5), piece(5, 6), piece(6, 7), piece(7, 7)]).
set2([piece(0, 0), piece(0, 2), piece(0, 5), piece(0, 7), piece(1, 3), piece(1, 6), piece(2, 4), piece(2, 5), piece(2, 7), piece(3, 4), piece(3, 5), piece(3, 6), piece(4, 4), piece(4, 6), piece(4, 7), piece(5, 5), piece(5, 7), piece(6, 6)]).

state(set1, set2, playerTurn, board).
initial_state(set1, set2, startPlayer, initial_board).

initial_screen:- 
        write('     DOMINUP'), nl , write('PLOG FEUP 2015-16'), nl, write('Ângela Cardoso'), nl, write('Nuno Valente'), nl, nl.



start_game:-
                                %abolish(jogador/2), abolish(estado/4),
        initial_screen,
                                %game_type,
        initial_state(set1, set2, playerTurn, board).
                                %play().

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%  VISUALIZACAO DO TABULEIRO  %%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

display_game(board):-
        nl, write('  A B C D E F G H I J K L M N O P Q R S T U V Y X'), nl,
        rows(1, board),
        write('  A B C D E F G H I J K L M N O P Q R S T U V Y X'), nl,!.

rows(N, [_|Resto]):-N1 is N+1, rows(N1, Resto).
rows(_,[]).


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%  POSICAO INTERMEDIA DE JOGO  %%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

intermediate_board( 
        [
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___']
        ]).

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  FINAL DO JOGO  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


final_board( 
        [
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___'],
   ['___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___','___']
        ]).
